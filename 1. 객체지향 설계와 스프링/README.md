
### 스프링이란?
---
- 스프링 프레임워크
  + 핵심기술 : DI 컨테이너, AOP, 이벤트, 기타
  + 객체 지향 언어가 가진 강력한 특징을 살려내는 프레임워크

---
### 좋은 객체 지향 프로그래밍
---
- 추상화, 캡슐화, 다형성, 상속
- 다형성
  + 유연하고 변경이 용이하다.
  + 운전자는 면허만 있으면 차량이 바뀌어도 운전이 가능하다.
  + 운전자는 자동차 인터페이스에만 의존한다.
  + 운전자는 자동차 내부 구조를 몰라도 된다.
  + 운전자에게 영향을 주지 않음.
  + 역할 : 인터페이스
  - 구현 : 인터페이스를 구현한 클래스
  - 객체의 협력이라는 관계부터 생각
  - 클라이언트를 변경하지 않고 서버의 구현 기능을 유연하게 변경할 수 있다.
  - 인터페이스를 안정적으로 잘 설계하는 것이 중요하다.
  - 역할(인터페이스) 자체가 변하면 클라이언트, 서버 모두에 큰 변경이 발생한다.
- 스프링은 다형성을 극대화해서 이용할 수 있게 도와준다.

---
### 좋은 객체 지향 설계의 5가지 원칙(SOLID)
---
- SRP : 단일 책임 원칙
- OCP : 개방-폐쇄 원칙
- LSP : 리스코프 치환 원칙
- ISP : 인터페이스 분리 원칙
- DIP : 의존관계 역전 원칙

#### SRP 단일 책임 원칙 (Single responsibility principle)
  - 하나의 클래스는 하나의 책임만 가져야 한다.
  - 변경이 있을 때 파급효과가 적으면 단일 책임 원칙을 잘 
  따른 것(ex: UI변경, 객체 생성 및 사용을 분리)

#### OCP 개방-폐쇄 원칙 (Open/closed principle)
  - 소프트웨어 요소는 확장에는 열려있으나 변경에는 닫혀있어야 한다.
  - 인터페이스를 구현한 새로운 클래스를 하나 만들어서 새로운 기능을 구현
  - 구현 객체를 변경하려면 클라이언트 코드를 변경해야한다.

  ```java
  MemberRepo m = new MemoryMemberRepo();  // 기존 코드
  MemberRepo m = new JdbcMemberRepo();  // 변경 코드
  ```
  > 다형성을 사용하지만 OCP 원칙을 지킬 수 없다.
  
#### LSP 리스코프 치환 원칙 (Liskov substitution principle)
  - 프로그램의 객체는 프로그램의 정확성을 
  깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 한다.
  - 인터페이스 규약을 지켜서 하위 클래스를 구현한다.
  - 단순 컴파일 성공한다는 뜻이 아님.
  - ex: 자동차 인터페이스의 엑셀은 앞으로 가라는 기능, 뒤로 가게 구현하면 LSP 위반.

#### ISP 인터페이스 분리 원칙 (Interface segregation principle)
  - 특정 클라이언트를 위한 인터페이스 여러개가 범용 인터페이스 하나보다 낫다.
  - 인터페이스를 기능에 맞게 적절하게 분리
  - 인터페이스가 명확해지고 대체 가능성이 높아짐.
  - ex) 자동차 인터페이스 -> 운전 인터페이스, 정비 인터페이스로 분리

#### DIP 의존관계 역전 원칙 (Dependency inversion principle)
  - 클라이언트 코드는 구현 클래스에 의존하지 않고 인터페이스에 의존해야한다(역할에 의존).
  - 구현에 의존하면 변경이 어려워진다.
  - 공연에선 배우에 의존하지 않고 역할에 의존
  - 구현체의 존재를 아는 것 자체만으로도 의존한다고 판단한다.
  ```java
  MemberRepo m = new MemoryMemberRepo();  // DIP 위반
  ```

> 정리 : 다형성 만으로는 OCP, DIP 를 지킬 수 없음.

---
### 객체 지향 설계와 스프링
---
- 어떤 DB를 사용할 지 정해지지 않았어도 먼저 인터페이스를 설계한다.
- 변경의 범위가 작고 유연해진다.
- 무분별하게 인터페이스를 남발하면 추상화 비용이 발생한다.
- ex) 개발 시 프로그래머의 구현 클래스 찾기
- 기능을 확장할 가능성이 없다면 구체 클래스를 직접 사용하고 향후 꼭 필요할 때 리팩토링해서 인터페이스를 도입하는 것도 방법이다.
#### 책 추천
- 객체지향의 사실과 오해
- 토비의 스프링
- 자바 ORM 표준 JPA 프로그래밍